
<div class="container">
     <mat-card *ngIf="isCountryOk"> 
      <mat-card-title-group>
        <mat-card-title>{{'SITES' | translate}} {{country.name}}</mat-card-title>
        <fa [name]="'map-marker'" [border]=true [size]=3></fa>
      </mat-card-title-group>
      <mat-card-content>
          <h4>{{'SITE_MODIFY' | translate}}</h4>
          <div class="space-around">  
            <mat-form-field>      
              <mat-select *ngIf="(siteList$ | async)"  placeholder="{{'SELECT_SITE' | translate}}" [(ngModel)]="site" (change)="loadZone()">
                <mat-option *ngFor="let site of siteList$ | async" [value]="site">{{ site.code }}</mat-option>
              </mat-select>
            </mat-form-field>
            <button *ngIf="(siteList$ | async)" [disabled]="!site" (click)="viewSite()" title="{{'VIEW' | translate}}"><fa [name]="'eye'" [border]=false [size]=1></fa></button>
             <button  *ngIf="(siteList$ | async)?.length>0" [disabled]="!site" (click)="editSite()" title="{{'EDIT' | translate}}"><fa [name]="'pencil'" [border]=false [size]=1></fa></button>
           
             <button (click)="newSiteForm()" title="{{'ADD' | translate}}"><fa [name]="'plus'" [border]=false [size]=1></fa></button>
             <button (click)="newSiteImport()" title="{{'IMPORT' | translate}}"><fa [name]="'upload'" [border]=false [size]=1></fa></button>           
          </div>
          <h4 *ngIf="site">{{'ZONE_MODIFY' | translate}}</h4>
          <div class="space-around" *ngIf="site">
            <mat-form-field>   
              <mat-select *ngIf="(zoneList$ | async)" placeholder="{{'SELECT_ZONE' | translate}}" [(ngModel)]="zone" (change)="loadTransect()">
                <mat-option *ngFor="let zone of zoneList$ | async" [value]="zone">{{ zone.code }}</mat-option>
              </mat-select>
            </mat-form-field> 
             <button *ngIf="(zoneList$ | async)?.length>0"  [disabled]="!zone" (click)="editZone()" title="{{'EDIT' | translate}}"><fa [name]="'pencil'" [border]=false [size]=1></fa></button>
             <button (click)="addZone()" title="{{'ADD' | translate}}"><fa [name]="'plus'" [border]=false [size]=1></fa></button>
             <button (click)="importZone()" title="{{'IMPORT' | translate}}"><fa [name]="'upload'" [border]=false [size]=1></fa></button>
          </div>
          
          <h4 *ngIf="zone">{{'TRANSECT_MODIFY' | translate}}</h4>
          <div class="space-around" *ngIf="zone">
            <mat-form-field> 
              <mat-select *ngIf="(transectList$ | async)" placeholder="{{'SELECT_TRANSECT' | translate}}" [(ngModel)]="transect" (change)="loadCount()">
                <mat-option *ngFor="let transect of transectList$ | async" [value]="transect">{{ transect.code }}</mat-option>
              </mat-select>
            </mat-form-field> 
             <button *ngIf="(transectList$ | async)?.length>0"  [disabled]="!zone" (click)="editTransect()" title="{{'EDIT' | translate}}"><fa [name]="'pencil'" [border]=false [size]=1></fa></button>
             <button (click)="addTransect()" title="{{'ADD' | translate}}"><fa [name]="'plus'" [border]=false [size]=1></fa></button>
             <button (click)="importTransect()" title="{{'IMPORT' | translate}}"><fa [name]="'upload'" [border]=false [size]=1></fa></button>
          </div>

      </mat-card-content>
    </mat-card>           

</div>
 